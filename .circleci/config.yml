defaults:
  docker:
    -
      image: 'backstopjs/backstopjs:5.0.7'
  working_directory: ~/ma-backstop-crawler
version: 2.1
jobs:
  vr_setup:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'wake environments'
          command: ./run/vr-setup.sh
  vr_results:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        attach_workspace:
          at: .
      -
        run:
          name: 'report results'
          command: ./run/report-results.sh
      -
        store_artifacts:
          path: results
  homepage:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/'''
      -
        run:
          name: 'backstop reference homepage'
          command: './run/backstop-reference.sh 0'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test homepage'
          command: './run/backstop-test.sh 0'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/0
            - results/0.txt
  grantees:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/grantees'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/grantees'''
      -
        run:
          name: 'backstop reference grantees'
          command: './run/backstop-reference.sh 1'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test grantees'
          command: './run/backstop-test.sh 1'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/1
            - results/1.txt
  granteesaboutfresh:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/grantees/about-fresh-2019'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/grantees/about-fresh-2019'''
      -
        run:
          name: 'backstop reference granteesaboutfresh'
          command: './run/backstop-reference.sh 2'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test granteesaboutfresh'
          command: './run/backstop-test.sh 2'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/2
            - results/2.txt
  granteescriticalissuehealthandenvironmentalimpactshydrofrackinggrantees:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/grantees/critical-issue-health-and-environmental-impacts-hydrofracking-grantees-2011-2015'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/grantees/critical-issue-health-and-environmental-impacts-hydrofracking-grantees-2011-2015'''
      -
        run:
          name: 'backstop reference granteescriticalissuehealthandenvironmentalimpactshydrofrackinggrantees'
          command: './run/backstop-reference.sh 3'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test granteescriticalissuehealthandenvironmentalimpactshydrofrackinggrantees'
          command: './run/backstop-test.sh 3'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/3
            - results/3.txt
  granteesinnercitygreenteam:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/grantees/inner-city-green-team-2021'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/grantees/inner-city-green-team-2021'''
      -
        run:
          name: 'backstop reference granteesinnercitygreenteam'
          command: './run/backstop-reference.sh 4'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test granteesinnercitygreenteam'
          command: './run/backstop-test.sh 4'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/4
            - results/4.txt
  granteesprograms:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/grantees/programs/25'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/grantees/programs/25'''
      -
        run:
          name: 'backstop reference granteesprograms'
          command: './run/backstop-reference.sh 5'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test granteesprograms'
          command: './run/backstop-test.sh 5'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/5
            - results/5.txt
  agranteesprograms:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/grantees/programs/27'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/grantees/programs/27'''
      -
        run:
          name: 'backstop reference agranteesprograms'
          command: './run/backstop-reference.sh 6'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test agranteesprograms'
          command: './run/backstop-test.sh 6'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/6
            - results/6.txt
  news:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/news'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/news'''
      -
        run:
          name: 'backstop reference news'
          command: './run/backstop-reference.sh 7'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test news'
          command: './run/backstop-test.sh 7'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/7
            - results/7.txt
  newsfoundtranslationfeaturednonprofitquarterly:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/news/found-translation-featured-nonprofit-quarterly'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/news/found-translation-featured-nonprofit-quarterly'''
      -
        run:
          name: 'backstop reference newsfoundtranslationfeaturednonprofitquarterly'
          command: './run/backstop-reference.sh 8'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test newsfoundtranslationfeaturednonprofitquarterly'
          command: './run/backstop-test.sh 8'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/8
            - results/8.txt
  newsfundingopportunitywilliampennfoundationsracialequitygrantfund:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/news/funding-opportunity-william-penn-foundations-racial-equity-grant-fund'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/news/funding-opportunity-william-penn-foundations-racial-equity-grant-fund'''
      -
        run:
          name: 'backstop reference newsfundingopportunitywilliampennfoundationsracialequitygrantfund'
          command: './run/backstop-reference.sh 9'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test newsfundingopportunitywilliampennfoundationsracialequitygrantfund'
          command: './run/backstop-test.sh 9'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/9
            - results/9.txt
  newsimmschoolsservesimmigrantstudentsbudgetcutsandotherchallengesmount:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/news/immschools-serves-immigrant-students-budget-cuts-and-other-challenges-mount'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/news/immschools-serves-immigrant-students-budget-cuts-and-other-challenges-mount'''
      -
        run:
          name: 'backstop reference newsimmschoolsservesimmigrantstudentsbudgetcutsandotherchallengesmount'
          command: './run/backstop-reference.sh 10'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test newsimmschoolsservesimmigrantstudentsbudgetcutsandotherchallengesmount'
          command: './run/backstop-test.sh 10'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/10
            - results/10.txt
  whatwefund:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/what-we-fund'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/what-we-fund'''
      -
        run:
          name: 'backstop reference whatwefund'
          command: './run/backstop-reference.sh 11'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test whatwefund'
          command: './run/backstop-test.sh 11'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/11
            - results/11.txt
  whatwefundcommunityfund:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/what-we-fund/community-fund'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/what-we-fund/community-fund'''
      -
        run:
          name: 'backstop reference whatwefundcommunityfund'
          command: './run/backstop-reference.sh 12'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test whatwefundcommunityfund'
          command: './run/backstop-test.sh 12'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/12
            - results/12.txt
  whatwefundcriticalissuefund:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/what-we-fund/critical-issue-fund'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/what-we-fund/critical-issue-fund'''
      -
        run:
          name: 'backstop reference whatwefundcriticalissuefund'
          command: './run/backstop-reference.sh 13'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test whatwefundcriticalissuefund'
          command: './run/backstop-test.sh 13'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/13
            - results/13.txt
  whatwefundemergingleadersfund:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/what-we-fund/emerging-leaders-fund'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/what-we-fund/emerging-leaders-fund'''
      -
        run:
          name: 'backstop reference whatwefundemergingleadersfund'
          command: './run/backstop-reference.sh 14'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test whatwefundemergingleadersfund'
          command: './run/backstop-test.sh 14'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/14
            - results/14.txt
  whoweare:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/who-we-are'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/who-we-are'''
      -
        run:
          name: 'backstop reference whoweare'
          command: './run/backstop-reference.sh 15'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test whoweare'
          command: './run/backstop-test.sh 15'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/15
            - results/15.txt
  whowearecontactus:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/who-we-are/contact-us'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/who-we-are/contact-us'''
      -
        run:
          name: 'backstop reference whowearecontactus'
          command: './run/backstop-reference.sh 16'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test whowearecontactus'
          command: './run/backstop-test.sh 16'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/16
            - results/16.txt
  whowearemissionhistorycorevalues:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/who-we-are/mission-history-core-values'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/who-we-are/mission-history-core-values'''
      -
        run:
          name: 'backstop reference whowearemissionhistorycorevalues'
          command: './run/backstop-reference.sh 17'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test whowearemissionhistorycorevalues'
          command: './run/backstop-test.sh 17'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/17
            - results/17.txt
  whowearestaff:
    docker:
      -
        image: 'backstopjs/backstopjs:5.0.7'
    working_directory: ~/ma-backstop-crawler
    steps:
      - checkout
      -
        run:
          name: 'Regression for https://dev-claneil8.pantheonsite.io/who-we-are/staff'
          command: 'echo ''Running backstop regression on https://dev-claneil8.pantheonsite.io/who-we-are/staff'''
      -
        run:
          name: 'backstop reference whowearestaff'
          command: './run/backstop-reference.sh 18'
          no_output_timeout: 120s
      -
        run:
          name: 'backstop test whowearestaff'
          command: './run/backstop-test.sh 18'
          no_output_timeout: 120s
      -
        run:
          name: 'preserve artifacts'
          command: ./run/preserve-artifacts.sh
      -
        store_artifacts:
          path: /tmp/artifacts
          destination: artifacts
      -
        persist_to_workspace:
          root: .
          paths:
            - results/18
            - results/18.txt
workflows:
  version: 2
  viz_reg_test:
    jobs:
      - vr_setup
      -
        homepage:
          requires:
            - vr_setup
      -
        grantees:
          requires:
            - vr_setup
      -
        granteesaboutfresh:
          requires:
            - vr_setup
      -
        granteescriticalissuehealthandenvironmentalimpactshydrofrackinggrantees:
          requires:
            - vr_setup
      -
        granteesinnercitygreenteam:
          requires:
            - vr_setup
      -
        granteesprograms:
          requires:
            - vr_setup
      -
        agranteesprograms:
          requires:
            - vr_setup
      -
        news:
          requires:
            - vr_setup
      -
        newsfoundtranslationfeaturednonprofitquarterly:
          requires:
            - vr_setup
      -
        newsfundingopportunitywilliampennfoundationsracialequitygrantfund:
          requires:
            - vr_setup
      -
        newsimmschoolsservesimmigrantstudentsbudgetcutsandotherchallengesmount:
          requires:
            - vr_setup
      -
        whatwefund:
          requires:
            - vr_setup
      -
        whatwefundcommunityfund:
          requires:
            - vr_setup
      -
        whatwefundcriticalissuefund:
          requires:
            - vr_setup
      -
        whatwefundemergingleadersfund:
          requires:
            - vr_setup
      -
        whoweare:
          requires:
            - vr_setup
      -
        whowearecontactus:
          requires:
            - vr_setup
      -
        whowearemissionhistorycorevalues:
          requires:
            - vr_setup
      -
        whowearestaff:
          requires:
            - vr_setup
      -
        vr_results:
          requires:
            - homepage
            - grantees
            - granteesaboutfresh
            - granteescriticalissuehealthandenvironmentalimpactshydrofrackinggrantees
            - granteesinnercitygreenteam
            - granteesprograms
            - agranteesprograms
            - news
            - newsfoundtranslationfeaturednonprofitquarterly
            - newsfundingopportunitywilliampennfoundationsracialequitygrantfund
            - newsimmschoolsservesimmigrantstudentsbudgetcutsandotherchallengesmount
            - whatwefund
            - whatwefundcommunityfund
            - whatwefundcriticalissuefund
            - whatwefundemergingleadersfund
            - whoweare
            - whowearecontactus
            - whowearemissionhistorycorevalues
            - whowearestaff
